(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-17a88a86"],{"46ea":function(e,s,t){"use strict";var o=t("e57d"),n=t.n(o);n.a},9773:function(e,s,t){},b993:function(e,s,t){"use strict";var o=t("9773"),n=t.n(o);n.a},d3f7:function(e,s,t){e.exports=t.p+"vue-static/img/caed_bg.691f0467.png"},dd7b:function(e,s,t){"use strict";t.r(s);var o=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"login-container"},[t("div",{staticClass:"loginWraper"},[t("el-form",{ref:"loginForm",staticClass:"login-form",attrs:{model:e.loginForm,rules:e.loginRules,"label-position":"left"}},[t("div",{staticClass:"title-container"},[t("div",{staticClass:"title"},[e._v("xxxxxx")])]),t("div",{staticClass:"left_login"}),t("div",{staticClass:"right_login"},[t("el-form-item",{attrs:{prop:"username"}},[t("span",{staticClass:"svg-container"},[t("svg-icon",{staticStyle:{color:"#1D86E1"},attrs:{"icon-class":"user"}})],1),t("el-input",{ref:"username",attrs:{placeholder:"用户名",type:"text",tabindex:"1"},model:{value:e.loginForm.username,callback:function(s){e.$set(e.loginForm,"username",s)},expression:"loginForm.username"}}),t("input",{staticStyle:{display:"none"},attrs:{type:"password"}})],1),t("el-form-item",{attrs:{prop:"password"}},[t("span",{staticClass:"svg-container"},[t("svg-icon",{staticStyle:{color:"#1D86E1"},attrs:{"icon-class":"password"}})],1),t("el-input",{key:e.passwordType,ref:"password",attrs:{type:e.passwordType,placeholder:"密码",tabindex:"2"},nativeOn:{keyup:function(s){return!s.type.indexOf("key")&&e._k(s.keyCode,"enter",13,s.key,"Enter")?null:e.handleLogin(s)}},model:{value:e.loginForm.password,callback:function(s){e.$set(e.loginForm,"password",s)},expression:"loginForm.password"}}),t("input",{staticStyle:{display:"none"},attrs:{type:"password"}})],1),t("el-form-item",{staticClass:"inputbar",attrs:{prop:"seccode"}},[t("span",{staticClass:"svg-container"},[t("svg-icon",{staticStyle:{color:"#1D86E1"},attrs:{"icon-class":"yanzhengma"}})],1),t("el-input",{staticClass:"log-input",staticStyle:{"padding-left":"0px"},attrs:{placeholder:"验证码","prefix-icon":"icon-login_auth"},model:{value:e.loginForm.seccode,callback:function(s){e.$set(e.loginForm,"seccode",s)},expression:"loginForm.seccode"}}),t("span",{staticClass:"checkCode",on:{click:e.createCode}},[e._v(e._s(e.checkCode))])],1),t("el-button",{staticStyle:{width:"350px","margin-bottom":"30px",margin:"auto",display:"block","margin-top":"40px"},attrs:{loading:e.loading,type:"primary"},nativeOn:{click:function(s){return s.preventDefault(),e.handleLogin(s)}}},[e._v(" 登录 ")])],1)])],1)])},n=[],a=(t("61f7"),t("5f87")),i=t("c24f"),r=t("d3f7"),c=t.n(r),l=t("4328"),d=t.n(l),p={name:"Login",data:function(){return{loginForm:{username:"",password:"",seccode:""},checkCode:"",loginRules:{username:[{required:!0,trigger:"blur",message:"用户名不能为空"}],password:[{required:!0,trigger:"blur",message:"密码不能为空"}],seccode:[{required:!0,message:"请输验证码",trigger:"blur"}]},arr:[{path:"/emphasis",type:"home",name:"home",redirect:"/dashboard",children:[{path:"/mySet1",components:{},name:"我的设置",iconCls:"el-icon-menu",menuShow:!0,children:[{path:"/mySet1/plan",name:"行程计划",menuShow:!0},{path:"/mySet1/mission",name:"我的任务",menuShow:!0},{path:"/mySet1/maillist",name:"通讯录",menuShow:!0}]}]}],loading:!1,passwordType:"password",redirect:void 0,imgs:c.a,listMenu:[{path:"/emphasis",redirect:"/emphasis",meta:{title:"重点企业分布",icon:"el-icon-place"},children:[{path:"emphasis",name:"重点企业分布",meta:{title:"重点企业分布",icon:"el-icon-place"}}]}]}},watch:{},methods:{createCode:function(){for(var e="",s=4,t=new Array(0,1,2,3,4,5,6,7,8,9,"A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"),o=0;o<s;o++){var n=Math.floor(36*Math.random());e+=t[n]}console.log(e),this.checkCode=e},showPwd:function(){var e=this;"password"===this.passwordType?this.passwordType="":this.passwordType="password",this.$nextTick((function(){e.$refs.password.focus()}))},login:function(){var e=this,s=d.a.stringify({username:this.loginForm.username,password:this.loginForm.password});Object(i["b"])(s).then((function(s){if(console.log(s),1e4!=s.code)return e.createCode(),e.loginForm.seccode="",!1;e.$store.commit("user/SET_NAME",e.loginForm.username),sessionStorage.setItem("username",e.loginForm.username),sessionStorage.setItem("Token",s.data.access_token),sessionStorage.setItem("index","/"),Object(a["c"])("Token",s.data.access_token),e.$router.push({path:"/"})}))},handleLogin:function(){var e=this;this.$refs.loginForm.validate((function(s){if(!s)return e.$message({message:"登录失败",type:"warning"}),!1;e.loginForm.seccode==e.checkCode?e.login():(e.$message({message:"验证码错误，注意大写字母",type:"warning"}),e.createCode(),e.loginForm.seccode="")}))}},mounted:function(){this.createCode()}},m=p,u=(t("46ea"),t("b993"),t("2877")),g=Object(u["a"])(m,o,n,!1,null,"6814f93f",null);s["default"]=g.exports},e57d:function(e,s,t){}}]);